<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine's day</title>

<style>
body{
margin:0;
font-family:'Segoe UI', Tahoma, sans-serif;
overflow:hidden;
background:linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
background-size:400% 400%;
animation:gradientBG 15s ease infinite;
}

@keyframes gradientBG {
0% {background-position:0% 50%;}
50% {background-position:100% 50%;}
100% {background-position:0% 50%;}
}

/* ----------- PAGES + TRANSITIONS ----------- */
.page{
position:absolute;
width:100%;
height:100%;
display:flex;
justify-content:center;
align-items:center;
flex-direction:column;
backdrop-filter:blur(10px);
opacity:1;
transform:translateY(0);
transition: opacity 0.4s ease-out, transform 0.4s ease-out; /* ANIMATION */
}

.page.fade-out{
opacity:0;
transform:translateY(-15px);
}

/* TOUT TON CSS VISUEL PRÃ‰FÃ‰RÃ‰ RESTE IDENTIQUE */
#intro{
background:linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
color:#d63384;
text-shadow:0 2px 4px rgba(0,0,0,0.3);
}

#heart{
font-size:90px;
cursor:pointer;
animation:pulse 1.5s infinite;
transition:transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
filter:drop-shadow(0 8px 16px rgba(255,105,180,0.6));
}

#heart:hover{
transform:scale(1.3) rotate(-8deg);
animation:pause 0.3s forwards;
}

@keyframes pause{transform:scale(1.3) rotate(-8deg);}
@keyframes pulse{0%{transform:scale(1);}50%{transform:scale(1.2);}100%{transform:scale(1);}}

#envelopePage{
background:linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.envelope{
width:280px;height:200px;
background:linear-gradient(145deg, #ffecd2 0%, #fcb69f 100%);
position:relative;cursor:pointer;border-radius:20px;
box-shadow:0 20px 40px rgba(255,107,107,0.4), inset 0 1px 0 rgba(255,255,255,0.6);
}

.flap{
position:absolute;width:100%;height:100%;
background:linear-gradient(145deg, #ff6b6b 0%, #ee5a24 100%);
clip-path:polygon(0 0,100% 0,50% 60%);
transition:transform 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
border-radius:20px 20px 0 0;
}

.envelope.open .flap{
transform:rotateX(180deg) scale(0.95);transform-origin:top;box-shadow:0 -10px 20px rgba(0,0,0,0.2);
}

#cardPage{
background:linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
}

.card{
background:linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
padding:40px;border-radius:30px;width:90%;max-width:420px;
box-shadow:0 25px 50px rgba(255,105,180,0.3), 0 0 0 1px rgba(255,255,255,0.5);
text-align:center;position:relative;overflow:hidden;
}

.card::before{
content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;
background:radial-gradient(circle, rgba(255,182,193,0.1) 0%, transparent 70%);
animation:rotate 20s linear infinite;
}

@keyframes rotate{100%{transform:rotate(360deg);}}

#typedText{min-height:80px;color:#e91e63;font-size:18px;font-weight:500;text-shadow:0 1px 2px rgba(0,0,0,0.1);}
.choice{margin-top:25px;display:flex;flex-direction:column;gap:20px;font-size:20px;}
label{cursor:pointer;display:flex;align-items:center;gap:12px;padding:12px 20px;background:linear-gradient(145deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.4) 100%);border-radius:25px;backdrop-filter:blur(10px);transition:all 0.3s ease;box-shadow:0 4px 15px rgba(0,0,0,0.1);}
label:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(255,105,180,0.3);}
input{width:22px;height:22px;cursor:pointer;accent-color:#ff4081;}
#yesLabel{animation:glow 2s infinite;background:linear-gradient(145deg, rgba(255,105,180,0.2) 0%, rgba(255,182,193,0.4) 100%);}
@keyframes glow{0%{box-shadow:0 0 10px rgba(255,105,180,0.6);}50%{box-shadow:0 0 30px rgba(255,105,180,0.9), 0 0 40px rgba(255,105,180,0.6);}100%{box-shadow:0 0 10px rgba(255,105,180,0.6);}}
#noMessages{margin-top:15px;color:#e91e63;font-weight:600;min-height:40px;text-shadow:0 1px 2px rgba(0,0,0,0.1);}

#final{
background:linear-gradient(-45deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
color:#d63384;text-align:center;
}

#final img{width:220px;margin-top:15px;border-radius:20px;box-shadow:0 15px 30px rgba(0,0,0,0.3);transition:transform 0.3s ease;}
#final img:hover{transform:scale(1.05);}

.petal{position:fixed;top:-20px;font-size:24px;animation:fall linear forwards;filter:drop-shadow(0 4px 8px rgba(255,105,180,0.6));z-index:1000;}
@keyframes fall{to{transform:translateY(110vh) rotate(360deg);}}
</style>
</head>

<body>

<audio id="music" loop>
<source src="https://archive.org/download/sara-perche-ti-amo/Sar%C3%A0%20perch%C3%A9%20ti%20amo.mp3">
</audio>

<!-- TES PAGES AVEC CLASSES VISUELLES -->
<div class="page" id="intro">
<h1>Buongiorno Principessa ðŸ‘¸ðŸ˜½</h1>
<p>Clique sur le cÅ“ur</p>
<div id="heart">ðŸ’–</div>
</div>

<div class="page" id="envelopePage" style="display:none;">
<div class="envelope" id="envelope">
<div class="flap"></div>
</div>
<p>Clique pour ouvrir ðŸ’Œ</p>
</div>

<div class="page" id="cardPage" style="display:none;">
<div class="card">
<h2>Veux-tu Ãªtre ma Juliette ? ðŸ¥¹</h2>
<p id="typedText"></p>
<div class="choice">
<label id="yesLabel">
<input type="checkbox" id="yesBox">
Oui ðŸ’–
</label>
<label>
<input type="checkbox" id="noBox">
Non ðŸ˜¢
</label>
</div>
<div id="noMessages"></div>
</div>
</div>

<div class="page" id="final" style="display:none;">
<h1>Je t'aime Nil ðŸ’•</h1><br>
<h2>On se revoit bientÃ´t bichette prend soin de toi ðŸ˜½</h2>
<img src="https://tenor.com/fr/view/a-gif-1444707562716253851.gif">
<img src="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExbWYzbXY2NWU4enY2NTY4MTJlbDA0dXplOXpjbGRzcjhmNTloOGI4aCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/C8ih1zB9e9KJLySClx/giphy.gif">
</div>

<script>
/* TES VARIABLES */
const intro=document.getElementById("intro");
const envelopePage=document.getElementById("envelopePage");
const cardPage=document.getElementById("cardPage");
const final=document.getElementById("final");
const heart=document.getElementById("heart");
const envelope=document.getElementById("envelope");

/* typing */
const text="Nil, Sevgililer gÃ¼nÃ¼nde benimle sevgili olur musun ? ðŸŒ¹";
let i=0;
const typed=document.getElementById("typedText");

function typeWriter(){
if(i<text.length){
typed.innerHTML+=text.charAt(i);
i++;
setTimeout(typeWriter,40);
}
}

/* TRANSITION SIMPLE */
function transitionTo(nextPage) {
  // Fade out actuelle
  intro.classList.add('fade-out');
  envelopePage.classList.add('fade-out');
  cardPage.classList.add('fade-out');
  final.classList.add('fade-out');
  
  setTimeout(() => {
    // Reset toutes
    [intro, envelopePage, cardPage, final].forEach(page => {
      page.style.display = 'none';
      page.classList.remove('fade-out');
    });
    
    // Show nouvelle
    nextPage.style.display = 'flex';
  }, 400);
}

/* TES CLICKS AVEC TRANSITION */
heart.onclick=()=>{
transitionTo(envelopePage);
};

envelope.onclick=()=>{
envelope.classList.add("open");
setTimeout(()=>{
transitionTo(cardPage);
typeWriter();
},700);
};

document.getElementById("yesBox").onclick=()=>{
transitionTo(final);
document.getElementById("music").play();

setInterval(()=>{
let p=document.createElement("div");
p.innerHTML="ðŸŒ¹";p.classList.add("petal");
p.style.left=Math.random()*100+"vw";
p.style.animationDuration=(3+Math.random()*2)+"s";
document.body.appendChild(p);
setTimeout(()=>p.remove(),5000);
},300);
};

/* NON MESSAGES */
const noBox=document.getElementById("noBox");
const msg=document.getElementById("noMessages");
let noCount=0;
const noTexts=["MÃªme pas un peu? ðŸ¥º","T'es sÃ»re ? ðŸ˜¢","RÃ©flÃ©chis encore ðŸ˜­","Erreur systÃ¨me â¤ï¸","Impossible de refuser RomÃ©o ðŸ˜Œ","NIL T'AS PAS LE CHOIXðŸ˜¡"];

noBox.onclick=(e)=>{
e.preventDefault();
msg.innerText=noTexts[Math.min(noCount,noTexts.length-1)];
noCount++;
};
</script>

</body>
</html>
